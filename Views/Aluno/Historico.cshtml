@model List<AppAcademia.ViewModels.HistoricoSemanalViewModel>

@{
    ViewData["Title"] = "Hist√≥rico Semanal";
    var inicioSemana = (DateTime)ViewBag.InicioSemana;
    var fimSemana = (DateTime)ViewBag.FimSemana;
    int totalPlanejado = ViewBag.TotalPlanejado;
    int totalConcluido = ViewBag.TotalConcluido;
    int percentual = ViewBag.Percentual;
}

<div class="container mt-4">

    <h2>üìÖ Hist√≥rico Semanal</h2>

    <p class="text-muted">
        Semana de <strong>@inicioSemana.ToString("dd/MM")</strong>
        at√© <strong>@fimSemana.AddDays(-1).ToString("dd/MM")</strong>
    </p>

    @if (ViewBag.Percentual == 100)
    {
        <div class="alert alert-success">
            üèÜ Semana conclu√≠da! Excelente trabalho!
        </div>
    }
    else if (ViewBag.Percentual >= 70)
    {
        <div class="alert alert-info">
            üí™ √ìtimo ritmo! Continue assim.
        </div>
    }
    else if (ViewBag.Percentual > 0)
    {
        <div class="alert alert-warning">
            ‚ö†Ô∏è Ainda d√° tempo de evoluir essa semana!
        </div>
    }
    else
    {
        <div class="alert alert-secondary">
            üöÄ Vamos come√ßar? Seu progresso ainda est√° zerado.
        </div>
    }

    <hr />

    <!-- ========================= -->
    <!-- PROGRESSO SEMANAL -->
    <!-- ========================= -->
    <h5>üìä Progresso da Semana</h5>

    <div class="progress mb-3" style="height: 28px;">
        <div class="progress-bar bg-success" role="progressbar" style="width: @percentual%;" aria-valuenow="@percentual"
            aria-valuemin="0" aria-valuemax="100">
            @percentual%
        </div>
    </div>

    <p>
        <strong>@totalConcluido</strong> de
        <strong>@totalPlanejado</strong> exerc√≠cios conclu√≠dos
    </p>

    <hr />

    <!-- ========================= -->
    <!-- HIST√ìRICO DI√ÅRIO -->
    <!-- ========================= -->
    <h5>üìÜ Exerc√≠cios por dia</h5>

    @if (!Model.Any())
    {
        <div class="alert alert-info">
            Nenhum exerc√≠cio foi conclu√≠do nesta semana.
        </div>
    }
    else
    {
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Exerc√≠cios Conclu√≠dos</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var dia in Model)
                {
                    <tr>
                        <td>@dia.Data.ToString("dd/MM/yyyy")</td>
                        <td>@dia.TotalExercicios</td>
                        <td>
                            <span class="badge bg-success">
                                Conclu√≠do
                            </span>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <a asp-action="Index" class="btn btn-secondary mt-3">
        ‚¨Ö Voltar
    </a>

</div>